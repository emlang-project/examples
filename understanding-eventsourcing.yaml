slices:

  Add item:
    steps:
      - t: OrderForm
      - c: AddItem
        props:
          itemId: uuid
          description: string
          price: double
      - e: Cart/ItemAdded
      - v: CartItems
    tests:
      "spec: add item":
        when:
          - c: AddItem
        then:
          - e: ItemAdded
      "spec: max 3 items per cart":
        given:
          - e: ItemAdded
          - e: ItemAdded
          - e: ItemAdded
        when:
          - c: AddItem
        then:
          - x: Error

  Remove item:
    - t: OrderForm
    - c: RemoveItem
    - e: Cart/ItemRemoved
      props:
        itemId: uuid
    - v: CartItems

  Cart items:
    steps:
      - e: Cart/ItemAdded
      - e: Cart/ItemRemoved
        props:
          itemId: uuid
      - v: CartItems
    tests:
      "spec: cart items":
        given:
          - e: ItemAdded
            props:
              price: 5.00$
        then:
          - v: CartItems
            props:
              price: 5.00$
      "spec: cart items removed":
        given:
          - e: ItemAdded
            props:
              price: 5.00$
          - e: ItemRemoved
        then:
          - v: CartItems
            props:
              price: 0.00$

---

slices:
  Submit cart:
    - c: Foo